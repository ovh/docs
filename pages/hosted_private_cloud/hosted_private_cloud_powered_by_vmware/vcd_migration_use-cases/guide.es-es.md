---
title: 'VMware Cloud Director - Audit tricky use cases of migration'
excerpt: 'Discover how to examine the most tricky use cases within your VMware on OVHcloud workflows, for the purpose of beeing prepared for a migration to VCD'
updated: 2024-07-24
---

<style>
details>summary {
    color:rgb(33, 153, 232) !important;
    cursor: pointer;
}
details>summary::before {
    content:'\25B6';
    padding-right:1ch;
}
details[open]>summary::before {
    content:'\25BC';
}
</style>

> [!primary]
>
> VCD on OVHcloud is currently in alpha phase. This guide may therefore be incomplete and can be updated in the future.
>

## Objective

**The goal is to provide a list of complex use cases, and the solutions to implement in order to migrate in VCD.**

## Requirements

- Have a Hosted Private Cloud managed VMware product on OVHcloud.
- Access to OVHcloud [control panel](/links/manager).
- You must have completed the verification steps in the following guide before launching a migration to VCD.
- To not use Zerto on OVHcloud backup replication solutions (for now).
- Do not require PCI-DSS, SNC or HDS certification (for now).
- To not have data (VMs, vApp) that need to be migrated on multiple datacenters (multi-vDC use-case, solution bellow) with your VMware on OVHcloud product offer.

## Instructions

> [!warning]
>
> This audit is mandatory before any possible migration to VCD on OVHcloud.
>

This how-to guide will provide you information and solutions with the purpose of migrating your OVHcloud managed VMware vSphere services to a OVHcloud managed VMware Cloud Director ecosystem.

This document also details the requirements for each use-cases, and if applicable, explains how to comply with them.

### Step 1 - Requirements and special cases (mandatory)

Once you have fulfilled these requirements, the OVHcloud teams will migrate the VMs in the main vSphere datacentre using a hot migration path.

This hot migration will minimize disruptions from your public or private networks. Private networks are the most likely to be affected, with downtime of the order of a few minutes.

#### Table - Special cases

The table below lists each of the migration bottlenecks and criticality levels that must be remediated before the migration can begin.

| **Steps**   | **Warning**  | **Use-case**                            | **Solutions**                                                                                                                                                | **Additional informations**                                                                                                                                                                                            | **Help and references**                                                                                                                                                                              |
|-------------|--------------|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Step 1**  | ⚠️ ⚠️ ⚠️     | **Multi-vDC**                           | Migrate VMs, vApp to a single datacentre.                                                                                                                    | - Can only be migrated if it has only one data centre in a vSphere managed on OVHcloud. If not, make sure to migrate your data in the datacenter that will be migrated.                                                | [Migrating an infrastructure to a new vDC](/pages/hosted_private_cloud/hosted_private_cloud_powered_by_vmware/service-migration-vdc)                                                                 |                                                                                                                                                                                                                                                                                                                                                  
| **Step 2**  | ⚠️⚠️         | **VMware vSphere FT (fault tolerance)** | Disable VMware vSphere FT from VMs.                                                                                                                          |                                                                                                                                                                                                                        | [VMware Fault Tolerance](/pages/bare_metal_cloud/managed_bare_metal/vmware_fault_tolerance)                                                                                                          |                                                                                                                                                                                                                                                                                                                                                            
| **Step 3**  | ️⚠️⚠️        | **DRS affinity/anti-affinity**          | Reconstitution of affinity/anti-affinity rules in VCD.                                                                                                       | - To be retained, DRS affinity/anti-affinity rules will have to be manually recreated by you in VCD on OVHcloud after migration.                                                                                       | [VMware DRS distributed resource scheduler)](/pages/bare_metal_cloud/managed_bare_metal/vmware_drs_distributed_ressource_scheduler)                                                                  |                                                                                                                                                                                                                                                                                                                                               
| **Step 4**  | ⚠️⚠️         | **Special devices (CD, DVD etc..)**     | Unplug all special devices.                                                                                                                                  | - Nothing must be plugged into to migrated vSphere managed data centers. All special devices (CD, DVD etc..) must be removed before migration, otherwise they will be force-removed by the migration process and lost. |                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
| **Step 5**  | ⚠️⚠️         | **Datastore  clusters**                 | Delete all clustering rules.                                                                                                                                 | - Clustering rules will have to be deleted before migration because this notion do not exist on the VCD side.                                                                                                          |                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
| **Step 6**  | ⚠️           | **Memory over-commitment**              | Plan or scale your resource requirements in VCD (control panel VCD side). <br/> Or optimize your requirements before migrating (control panel vSphere side). | - Because you won't be able to over-commit resources on the VCD side, this concept does not exist.                                                                                                                     | [Modifying virtual machine resources](/pages/hosted_private_cloud/hosted_private_cloud_powered_by_vmware/modify_hardware_configuration_of_vm)                                                        |                                                                                                                                                
| **Step 7**  | ⚠️           | **Resource pools (sharing)**            | No solutions for now.                                                                                                                                        | - Resource pools will be lost after migration because this notion no longer exists on the VCD side. We recommend the use of the vApp concepts in the VCD control panel.                                                | [Working with vApps in the VCD on OVHcloud control panel](<https://docs.vmware.com/es/VMware-Cloud-Director/10.5/VMware-Cloud-Director-Tenant-Guide/GUID-AC48FB5E-4ADC-4835-AACE-B949B297A147.html>) |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
| **Step 8**  | ⚠️⚠️         | **Certifications PCI-DSS, HDS, SNC**    |                                                                                                                                                              | - Cannot be migrated if your workloads are certified PCI-DSS, HDS, SNC (security options).                                                                                                                             |                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
| **Step 9**  | ⚠️⚠️⚠️       | **Encrypted VMs**                       | Decipher VMs.                                                                                                                                                | - Impossible to migrate with encrypted VMs, vApp.                                                                                                                                                                      |                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
| **Step 10** | ⚠️⚠️⚠️       | **Zerto (disaster recovery)**           | No solutions for now.                                                                                                                                        | - If you use Zerto (data replication solution for disaster recovery), you cannot be migrated to VCD for now.                                                                                                           | [Setting up Zerto Virtual Replication between two OVHcloud data centres](/pages/hosted_private_cloud/hosted_private_cloud_powered_by_vmware/zerto_virtual_replication_as_a_service)                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
| **Step 11** | ⚠️           | **Hosts / ZP (ZFS pool)**               | Release resources (hosts + ZP).                                                                                                                              | - The "Freespare" and "Hourly" resources (hosts + ZP zpools) must be released before the migration. <br/> Or convert in "Monthly" resources.                                                                           | [Hosted Private Cloud billing information](/pages/account_and_service_management/managing_billing_payments_and_services/facturation_private_cloud)                                                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
| **Step 12** | ⚠️⚠️⚠️       | **HCX (workload migration)**            | No solutions for now.                                                                                                                                        | - If so it cannot be migrated to VCD if you use HCX (workload migration techniques).                                                                                                                                   |                                                                                                                                                                                                      |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            

## Go further

If you require training or technical support to implement your migration with VCD, please contact your TAM or [click here](/links/professional-services) to get a quote and request a custom analysis of your project from our Professional Services team experts.

Ask questions, give your feedback and interact directly with the team building our Hosted Private Cloud services on the dedicated [Discord](https://discord.gg/ovhcloud) canal.

Join our [community of users](/links/community).
